# https://gist.github.com/zobayer1/7265c698d1b024bb7723bc624aeedeb3

# ------------------------------------------------------------------------------
# Files and directories
# ------------------------------------------------------------------------------

SRC            = src
LIB            = lib
DRV            = drivers

BUILD          = build
OBJ            = obj
BIN            = bin

CC             = clang
CXX            = clang++
REMOVE         = rm -r

CFLAGS         = -g -Wall -v

OBJS = fun.o main.o

all: main

main: $(OBJS)
	$(CC) $(CFLAGS) $(OBJS) -o $@

%.o: src/%.c drivers/%.c
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	rm -r main

.PHONY: all clean



# ------------------------------------------------------------------------------
# Files and directories for the user code
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Platform specific flags
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Flags for gcc/binutils
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Files and directories for the system firmware
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Source compiling and dependency analysis
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Object file conversion
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# What to build
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Resources
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Main rules
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Bootloader merging
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Firmware flashing
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# from the simple version, here to test initially if this file was included
# ------------------------------------------------------------------------------

# build:
# 	g++ src/main.cpp -o main

# clean:
# 	rm -R main

# .PHONY: build clean
